@model Omlajue_Ecommerce.Models.ViewModels.CheckoutViewModel
@{
    ViewBag.Title = "Checkout";
}

@section styles {
    <link href="~/Content/css/checkout.css?v=1.0" rel="stylesheet" />
}

<div class="checkout-page-wrapper">
    <div class="container">
        <h1 class="checkout-page-title">Checkout</h1>
        
        @using (Html.BeginForm("PlaceOrder", "Checkout", FormMethod.Post))
        {
            @Html.AntiForgeryToken()
            
            <div class="row">
                <!-- Left Column - Billing & Payment -->
                <div class="col-lg-8">
                    <!-- Billing Information Section -->
                    <div class="checkout-form-section">
                        <h2 class="section-title">Billing Information</h2>
                        
                        <div class="row g-3">
                            <div class="col-md-6">
                                <label class="form-label">First Name</label>
                                @Html.TextBoxFor(m => m.BillingFirstName, new { @class = "checkout-input", placeholder = "Enter first name" })
                                @Html.ValidationMessageFor(m => m.BillingFirstName, "", new { @class = "field-validation-error" })
                            </div>
                            <div class="col-md-6">
                                <label class="form-label">Last Name</label>
                                @Html.TextBoxFor(m => m.BillingLastName, new { @class = "checkout-input", placeholder = "Enter last name" })
                                @Html.ValidationMessageFor(m => m.BillingLastName, "", new { @class = "field-validation-error" })
                            </div>
                        </div>
                        
                        <div class="row g-3 mt-3">
                            <div class="col-md-6">
                                <label class="form-label">Email Address</label>
                                @Html.TextBoxFor(m => m.BillingEmail, new { @class = "checkout-input", placeholder = "your@email.com" })
                                @Html.ValidationMessageFor(m => m.BillingEmail, "", new { @class = "field-validation-error" })
                            </div>
                            <div class="col-md-6">
                                <label class="form-label">Phone Number</label>
                                @Html.TextBoxFor(m => m.BillingPhone, new { @class = "checkout-input", placeholder = "+63 XXX XXX XXXX" })
                                @Html.ValidationMessageFor(m => m.BillingPhone, "", new { @class = "field-validation-error" })
                            </div>
                        </div>
                        
                        <div class="mt-3">
                            <label class="form-label">Street Address</label>
                            @Html.TextBoxFor(m => m.BillingAddress, new { @class = "checkout-input", placeholder = "House number, street name" })
                            @Html.ValidationMessageFor(m => m.BillingAddress, "", new { @class = "field-validation-error" })
                        </div>
                        
                        <div class="row g-3 mt-3">
                            <div class="col-md-4">
                                <label class="form-label">City</label>
                                @Html.TextBoxFor(m => m.BillingCity, new { @class = "checkout-input", placeholder = "City" })
                                @Html.ValidationMessageFor(m => m.BillingCity, "", new { @class = "field-validation-error" })
                            </div>
                            <div class="col-md-4">
                                <label class="form-label">Province</label>
                                @Html.TextBoxFor(m => m.BillingProvince, new { @class = "checkout-input", placeholder = "Province" })
                                @Html.ValidationMessageFor(m => m.BillingProvince, "", new { @class = "field-validation-error" })
                            </div>
                            <div class="col-md-4">
                                <label class="form-label">Postal Code</label>
                                @Html.TextBoxFor(m => m.BillingPostalCode, new { @class = "checkout-input", placeholder = "XXXX" })
                                @Html.ValidationMessageFor(m => m.BillingPostalCode, "", new { @class = "field-validation-error" })
                            </div>
                        </div>
                    </div>
                    
                    <!-- Payment Method Section -->
                    <div class="checkout-form-section">
                        <h2 class="section-title">Payment Method</h2>
                        
                        <div class="payment-option">
                            @Html.RadioButtonFor(m => m.PaymentMethod, "GCash", new { @id = "payment-gcash" })
                            <label for="payment-gcash" class="payment-option-label">
                                <i class="fas fa-mobile-alt me-2"></i>GCash
                            </label>
                        </div>
                        
                        <div class="payment-option">
                            @Html.RadioButtonFor(m => m.PaymentMethod, "Maya", new { @id = "payment-maya" })
                            <label for="payment-maya" class="payment-option-label">
                                <i class="fas fa-wallet me-2"></i>Maya (PayMaya)
                            </label>
                        </div>
                        
                        <div class="payment-option">
                            @Html.RadioButtonFor(m => m.PaymentMethod, "DebitCard", new { @id = "payment-debit" })
                            <label for="payment-debit" class="payment-option-label">
                                <i class="fas fa-credit-card me-2"></i>Debit Card
                            </label>
                        </div>
                        
                        <div class="payment-option">
                            @Html.RadioButtonFor(m => m.PaymentMethod, "CashOnDelivery", new { @id = "payment-cod", @checked = "checked" })
                            <label for="payment-cod" class="payment-option-label">
                                <i class="fas fa-money-bill-wave me-2"></i>Cash on Delivery
                            </label>
                        </div>
                        
                        @Html.ValidationMessageFor(m => m.PaymentMethod, "", new { @class = "field-validation-error" })
                    </div>
                </div>
                
                <!-- Right Column - Order Summary -->
                <div class="col-lg-4">
                    <div class="checkout-summary-card">
                        <h2 class="summary-title">Order Summary</h2>
                        
                        @if (Model.Cart != null)
                        {
                            <div class="summary-row">
                                <span class="summary-label">Subtotal</span>
                                <span class="summary-value">&#8369;@Model.Cart.SubTotal.ToString("N0")</span>
                            </div>
                            
                            <div class="summary-row">
                                <span class="summary-label">Shipping</span>
                                <span class="summary-value">&#8369;@Model.Cart.ShippingFee.ToString("N0")</span>
                            </div>
                            
                            <div class="summary-divider"></div>
                            
                            <div class="summary-total">
                                <span class="summary-total-label">Total</span>
                                <span class="summary-total-value">&#8369;@Model.Cart.Total.ToString("N0")</span>
                            </div>
                        }
                        
                        <button type="submit" class="place-order-btn">
                            <span><i class="fas fa-lock me-2"></i>Place Order</span>
                        </button>
                    </div>
                </div>
            </div>
        }
    </div>
</div>

@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
}
